<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=http://blog.animer.live/scss/main.min.css></head><link rel=stylesheet href=http://blog.animer.live/scss/single.min.css><body><div id=nav-border><nav id=nav><a class=nav-link href=/>Home</a>
<a class=nav-link href=/tags/>Tags</a>
<a class=nav-link href=/archives/>Archives</a>
<a class=nav-link href=/about/>About me</a>
<a class=nav-link href=/index.xml/>Rss</a></nav></div><div id=content><main><article><header><h1>Switch to Wayland</h1></header><p>Switch to Wayland</p><div id=outline-container-headline-1 class=outline-2><h2 id=headline-1>Installation</h2><div id=outline-text-headline-1 class=outline-text-2><p>I choose <a href=https://github.com/hyprwm/Hyprland>hyprland</a> as my Wayland window manager(and compositor) which is based on <code class=verbatim>wlroots</code>, it is a really new compositor with a lot of great features, and also it is pretty stable(according to the office). Here is the <em>stars over time</em> charts for it:</p><figure><img src=https://starchart.cc/hyprwm/Hyprland.svg alt=https://starchart.cc/hyprwm/Hyprland.svg title=https://starchart.cc/hyprwm/Hyprland.svg><figcaption>Hyprland Stars Over Time</figcaption></figure><div class="src src-bash"><div class=highlight><div style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#080;font-style:italic># glfw-wayland is conflict with glfw-x11</span>
</span></span><span style=display:flex><span>paru -S hyprland-git xorg-xwayland xorg-xlsclients qt5-wayland glfw-wayland qt6-wayland
</span></span><span style=display:flex><span>paru -S dunst wireplumber pipewire polkit-kde-agent xdg-desktop-portal-hyprland-git <span style=color:#080;font-style:italic># must-have (from hyprland-wiki)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>paru -S wev <span style=color:#080;font-style:italic># xev</span>
</span></span><span style=display:flex><span>paru -S wl-clipboard <span style=color:#080;font-style:italic># xclip</span>
</span></span><span style=display:flex><span>paru -S wtype <span style=color:#080;font-style:italic># xdotool</span></span></span></code></pre></td></tr></table></div></div></div><div id=outline-container-headline-2 class=outline-3><h3 id=headline-2>applications</h3><div id=outline-text-headline-2 class=outline-text-3><div class="src src-bash"><div class=highlight><div style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>paru -S hyprpaper <span style=color:#080;font-style:italic># wallpaper manager under hyprland</span>
</span></span><span style=display:flex><span>paru -S rofi-lbonn-wayland-git <span style=color:#080;font-style:italic># rofi under Wayland</span>
</span></span><span style=display:flex><span>paru -S waybar-hyprland-git <span style=color:#080;font-style:italic># waybar hyprland (enhanced?)</span>
</span></span><span style=display:flex><span>paru -S hyprpick <span style=color:#080;font-style:italic># color picker</span>
</span></span><span style=display:flex><span>paru -S grim slurp swappy <span style=color:#080;font-style:italic># screenshot (swappy is a GUI annotation client for grim+slurp combination, which is enough for screenshot)</span>
</span></span><span style=display:flex><span>paru -S gammastep <span style=color:#080;font-style:italic># screen gamma, alternative for redshift</span></span></span></code></pre></td></tr></table></div></div></div></div></div></div></div><div id=outline-container-headline-3 class=outline-2><h2 id=headline-3>Emacs Under Wayland</h2><div id=outline-text-headline-3 class=outline-text-2><p>Please use Emacs with <code class=verbatim>pgtk</code> (pure GTK) build to support Wayland. The 29 version of Emacs officially support build with <code class=verbatim>pgtk</code> flag=. You can simply get it from AUR:</p><div class="src src-bash"><div class=highlight><div style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>paru -S emacs29-git</span></span></code></pre></td></tr></table></div></div></div></div></div><div id=outline-container-headline-4 class=outline-2><h2 id=headline-4>Customization</h2><div id=outline-text-headline-4 class=outline-text-2><ol><li><p>cursor:</p><ol><li><a href=https://wiki.hyprland.org/FAQ/index.html#how-do-i-change-me-mouse-cursor>https://wiki.hyprland.org/FAQ/index.html#how-do-i-change-me-mouse-cursor</a></li><li><a href=https://github.com/swaywm/sway/wiki/GTK-3-settings-on-Wayland>https://github.com/swaywm/sway/wiki/GTK-3-settings-on-Wayland</a></li></ol></li></ol></div></div><div id=outline-container-headline-5 class=outline-2><h2 id=headline-5>Problems</h2><div id=outline-text-headline-5 class=outline-text-2><ol><li><code class=verbatim>nm-applet</code> not appears on Waybar tray (at least for me), so I use <code class=verbatim>nmtui</code> in terminal to manage my network connection instead.</li><li><code class=verbatim>megasync</code> not working properly</li><li><code class=verbatim>jetbrains-toolbox</code> not appears on the Waybar tray.</li></ol></div></div><div id=outline-container-headline-6 class=outline-2><h2 id=headline-6>Links:</h2><div id=outline-text-headline-6 class=outline-text-2><div id=outline-container-headline-7 class=outline-3><h3 id=headline-7>Applications</h3><div id=outline-text-headline-7 class=outline-text-3><ol><li><a href=https://arewewaylandyet.com/>https://arewewaylandyet.com/</a></li><li><a href=https://wiki.hyprland.org/Useful-Utilities/>https://wiki.hyprland.org/Useful-Utilities/</a></li><li><a href=https://github.com/swaywm/sway/wiki/Useful-add-ons-for-sway>https://github.com/swaywm/sway/wiki/Useful-add-ons-for-sway</a></li></ol></div></div><div id=outline-container-headline-8 class=outline-3><h3 id=headline-8>Guides</h3><div id=outline-text-headline-8 class=outline-text-3><ol><li><a href=https://www.fosskers.ca/en/blog/wayland>Full Wayland Setup on Arch Linux</a></li></ol></div></div></div></div></article><aside><nav id=TableOfContents><ul><li><a href=#headline-1>Installation</a><ul><li><a href=#headline-2>applications</a></li></ul></li><li><a href=#headline-3>Emacs Under Wayland</a></li><li><a href=#headline-4>Customization</a></li><li><a href=#headline-5>Problems</a></li><li><a href=#headline-6>Links:</a><ul><li><a href=#headline-7>Applications</a></li><li><a href=#headline-8>Guides</a></li></ul></li></ul></nav></aside></main></div><script src=/js/single.min.js></script></body></html>